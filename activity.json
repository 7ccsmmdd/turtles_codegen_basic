{
    "activities": [

        {

            "id": "activity-xtext-turtles",
            "title": "Xtext Language Workbench",
            "icon": "xtext",

            "tools": ["https://mdenet-ep.sites.er.kcl.ac.uk/tools/xtext/xtext_tool.json"],

            "panels": [
                {
                    "id": "panel-xtext",
                    "name": "Language grammar -- don't edit this this time",
                    "ref": "xtext-grammar",
                    "file": "uk.ac.kcl.inf.mdd3.turtles/src/uk/ac/kcl/inf/mdd3/Turtles.xtext",
                    "editorPanel": "panel-turtles",
                    "editorActivity": "activity-turtles-editor"
                },
                {
                    "id": "panel-xtext-scopeprovider",
                    "name": "Scope Provider",
                    "ref": "xtext-scopeprovider",
                    "file": "uk.ac.kcl.inf.mdd3.turtles/src/uk/ac/kcl/inf/mdd3/scoping/TurtlesScopeProvider.xtend"
                },
                {
                    "id": "panel-xtext-generator",
                    "name": "Generator",
                    "ref": "xtext-generator",
                    "file": "uk.ac.kcl.inf.mdd3.turtles/src/uk/ac/kcl/inf/mdd3/generator/TurtlesGenerator.xtend"
                },
                {
                    "id": "panel-console",
                    "name": "Console",
                    "ref": "console"
                }
            ],
          
            "layout": {
                    "area": [
                        ["panel-xtext", "panel-xtext-generator"],
                        ["panel-console"]]},

            "actions": [
                {
                    "source": "panel-xtext",

                    "sourceButton": "action-button",

                    "parameters": {
                        "languageName": "uk.ac.kcl.inf.mdd3.turtles.Turtles",
                        "baseName": "uk.ac.kcl.inf.mdd3.turtles",
                        "extension": "turtles",
                        "grammar": "panel-xtext",
                        "generator": "panel-xtext-generator",
                        "scopeprovider": "panel-xtext-scopeprovider"
                    },

                    "output": "panel-console"
                }
            ]
        },
        {
            "id": "activity-turtles-editor",
            "title": "Turtles Editor",
            "icon": "xtext",

            "tools": ["{{ID-panel-turtles}}/editor_tool.json", 
                      "https://mdenet-ep.sites.er.kcl.ac.uk/tools/emf/emf_tool.json",
                      "https://mdenet-ep.sites.er.kcl.ac.uk/tools/emfatic/emfatic_tool.json",
                      "https://mdenet-ep.sites.er.kcl.ac.uk/tools/epsilon/tools"],
            
            "panels": [
                {
                  "id": "panel-turtles",
                  "name": "Try out your language here",
                  "ref": "xtext-editor",
                  "file": "example/test.turtles",
                  "extension": "turtles"                
                },
                {
                  "id": "panel-mm-composite",
                  "name": "The meta-model generated by Xtext",
                  "ref": "composite",
                  "childPanels": [
                      {
                          "id": "panel-mm",
                          "name": "XMI text format",
                          "ref": "ecore",
                          "file": "{{ID-panel-turtles}}/xtext-resources/generated/meta-model.ecore"
                      },
                      {
                          "id": "panel-diagram",
                          "name": "Metamodel Diagram",
                          "ref": "emfgraph"
                      }
                  ],
                  "buttons": [
                      {
                          "id": "show-xmi-button",
                          "icon": "editor",
                          "internal": "toggle",
                          "targetPanel": "panel-mm",
                          "hint": "Toggle text"
                      },
                      {
                          "id": "show-diagram-button",
                          "icon": "diagram",
                          "internal": "toggle",
                          "targetPanel": "panel-diagram",
                          "hint": "Toggle diagram"
                      }
                  ]
              },
              {
                  "id": "panel-model-diagram",
                  "name": "Model Diagram",
                  "ref": "emfgraph"
              },
              {
                  "id": "panel-generated-files",
                  "name": "Generated Files",
                  "ref": "multicode"
              }
          ],

          "layout": {
              "area": [["panel-turtles", "panel-generated-files"],
                       ["panel-mm-composite", "panel-model-diagram"]]},

          "actions": [
              {
                  "source": "panel-mm",
                  "sourceButton": "to_mm_diagram",

                  "parameters": {
                      "language": "generated",
                      "emfatic": "panel-mm"
                  },

                  "output": "panel-diagram"
              },
              {
                  "source": "panel-turtles",
                  "sourceButton": "to-diagram-button",
                  "parameters": {
                      "input": "panel-turtles"
                  },
                  "output": "panel-model-diagram"
              },
              {
                  "source": "panel-turtles",
                  "sourceButton": "generate-code-button",
                  "parameters": {
                      "model": "panel-turtles",
                      "fileName": "example/test.turtles"
                  },
                  "output": "panel-generated-files"
              }
        ]
    }]
}
